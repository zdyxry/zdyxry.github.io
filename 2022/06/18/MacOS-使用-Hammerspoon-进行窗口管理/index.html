<!doctype html><html lang=zh-cn><head><title>MacOS 使用 Hammerspoon 进行窗口管理 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="背景 链接到标题 最近把公司电脑从 Windows 换到了 MacOS， 在重新配置 OS 阶段，发现在 MacOS 上进行窗口管理比较痛苦，自己之前的个人 MaCOS 一直使用的是Moom 来进行管理，但是使用功能很有限，加上现在 MacOS 自身的窗口提示会与 Moom 冲突，所以决定更换一个。我个人对于窗口管理的需求就是方便的在不同显示器切换，焦点窗口全屏、半屏、1/3 屏转换快速。对于平铺式窗口管理觉得学习成本和适应成本可能有些高，不打算折腾，之前看到 disksing 使用 Hammerspoon 进行窗口管理的文章： 适合程序员的桌面窗口管理方案 ，打算尝试一下。
Hammerspoon 链接到标题 Hammerspoon 是一个开源的自动化工具，可以实现很多功能，包含不限于：窗口管理、桌面管理、Wifi 触发器、时钟管理等等，所有功能都是通过 Lua 语言来实现的。用户可以自己编写 Lua，或者使用 Spoons 中提供的一些 Lua 模块来简化配置。
官网包含了一个简单的 Window resize 示例，还是比较好理解的，先找到当前focuse 窗口，然后找到当前窗口大小，调整大小为目标值，重新设置窗口：
hs.hotkey.bind({&#34;cmd&#34;, &#34;alt&#34;, &#34;ctrl&#34;}, &#34;Left&#34;, function() local win = hs.window.focusedWindow() local f = win:frame() local screen = win:screen() local max = screen:frame() f.x = max.x f.y = max.y f."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="MacOS 使用 Hammerspoon 进行窗口管理"><meta name=twitter:description content="背景 链接到标题 最近把公司电脑从 Windows 换到了 MacOS， 在重新配置 OS 阶段，发现在 MacOS 上进行窗口管理比较痛苦，自己之前的个人 MaCOS 一直使用的是Moom 来进行管理，但是使用功能很有限，加上现在 MacOS 自身的窗口提示会与 Moom 冲突，所以决定更换一个。我个人对于窗口管理的需求就是方便的在不同显示器切换，焦点窗口全屏、半屏、1/3 屏转换快速。对于平铺式窗口管理觉得学习成本和适应成本可能有些高，不打算折腾，之前看到 disksing 使用 Hammerspoon 进行窗口管理的文章： 适合程序员的桌面窗口管理方案 ，打算尝试一下。
Hammerspoon 链接到标题 Hammerspoon 是一个开源的自动化工具，可以实现很多功能，包含不限于：窗口管理、桌面管理、Wifi 触发器、时钟管理等等，所有功能都是通过 Lua 语言来实现的。用户可以自己编写 Lua，或者使用 Spoons 中提供的一些 Lua 模块来简化配置。
官网包含了一个简单的 Window resize 示例，还是比较好理解的，先找到当前focuse 窗口，然后找到当前窗口大小，调整大小为目标值，重新设置窗口：
hs.hotkey.bind({&#34;cmd&#34;, &#34;alt&#34;, &#34;ctrl&#34;}, &#34;Left&#34;, function() local win = hs.window.focusedWindow() local f = win:frame() local screen = win:screen() local max = screen:frame() f.x = max.x f.y = max.y f."><meta property="og:title" content="MacOS 使用 Hammerspoon 进行窗口管理"><meta property="og:description" content="背景 链接到标题 最近把公司电脑从 Windows 换到了 MacOS， 在重新配置 OS 阶段，发现在 MacOS 上进行窗口管理比较痛苦，自己之前的个人 MaCOS 一直使用的是Moom 来进行管理，但是使用功能很有限，加上现在 MacOS 自身的窗口提示会与 Moom 冲突，所以决定更换一个。我个人对于窗口管理的需求就是方便的在不同显示器切换，焦点窗口全屏、半屏、1/3 屏转换快速。对于平铺式窗口管理觉得学习成本和适应成本可能有些高，不打算折腾，之前看到 disksing 使用 Hammerspoon 进行窗口管理的文章： 适合程序员的桌面窗口管理方案 ，打算尝试一下。
Hammerspoon 链接到标题 Hammerspoon 是一个开源的自动化工具，可以实现很多功能，包含不限于：窗口管理、桌面管理、Wifi 触发器、时钟管理等等，所有功能都是通过 Lua 语言来实现的。用户可以自己编写 Lua，或者使用 Spoons 中提供的一些 Lua 模块来简化配置。
官网包含了一个简单的 Window resize 示例，还是比较好理解的，先找到当前focuse 窗口，然后找到当前窗口大小，调整大小为目标值，重新设置窗口：
hs.hotkey.bind({&#34;cmd&#34;, &#34;alt&#34;, &#34;ctrl&#34;}, &#34;Left&#34;, function() local win = hs.window.focusedWindow() local f = win:frame() local screen = win:screen() local max = screen:frame() f.x = max.x f.y = max.y f."><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2022/06/18/MacOS-%E4%BD%BF%E7%94%A8-Hammerspoon-%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-18T10:47:07+00:00"><meta property="article:modified_time" content="2022-06-18T10:47:07+00:00"><link rel=canonical href=https://zdyxry.github.io/2022/06/18/MacOS-%E4%BD%BF%E7%94%A8-Hammerspoon-%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.01bd429dda63a16d76996eaf0b8da061429b76e714515cb1b246aac7fe7f4b2a.css integrity="sha256-Ab1CndpjoW12mW6vC42gYUKbducUUVyxskaqx/5/Syo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2022/06/18/MacOS-%E4%BD%BF%E7%94%A8-Hammerspoon-%E8%BF%9B%E8%A1%8C%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86/>MacOS 使用 Hammerspoon 进行窗口管理</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-06-18T10:47:07Z>June 18, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：3 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/MacOS/>MacOS</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#背景>背景</a></li><li><a href=#hammerspoon>Hammerspoon</a></li><li><a href=#窗口管理>窗口管理</a></li></ul></nav><div class=post-content><h2 id=背景>背景
<a class=heading-link href=#%e8%83%8c%e6%99%af><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>最近把公司电脑从 Windows 换到了 MacOS， 在重新配置 OS 阶段，发现在 MacOS 上进行窗口管理比较痛苦，自己之前的个人 MaCOS 一直使用的是Moom 来进行管理，但是使用功能很有限，加上现在 MacOS 自身的窗口提示会与 Moom 冲突，所以决定更换一个。我个人对于窗口管理的需求就是方便的在不同显示器切换，焦点窗口全屏、半屏、1/3 屏转换快速。对于平铺式窗口管理觉得学习成本和适应成本可能有些高，不打算折腾，之前看到 disksing 使用 Hammerspoon 进行窗口管理的文章： <a href=https://disksing.com/desktop-layout/>适合程序员的桌面窗口管理方案</a> ，打算尝试一下。</p><h2 id=hammerspoon>Hammerspoon
<a class=heading-link href=#hammerspoon><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>Hammerspoon 是一个开源的自动化工具，可以实现很多功能，包含不限于：窗口管理、桌面管理、Wifi 触发器、时钟管理等等，所有功能都是通过 Lua 语言来实现的。用户可以自己编写 Lua，或者使用 Spoons 中提供的一些 Lua 模块来简化配置。</p><p>官网包含了一个简单的 Window resize 示例，还是比较好理解的，先找到当前focuse 窗口，然后找到当前窗口大小，调整大小为目标值，重新设置窗口：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>hs.hotkey.bind({<span style=font-style:italic>&#34;cmd&#34;</span>, <span style=font-style:italic>&#34;alt&#34;</span>, <span style=font-style:italic>&#34;ctrl&#34;</span>}, <span style=font-style:italic>&#34;Left&#34;</span>, <span style=font-weight:700>function</span>()
</span></span><span style=display:flex><span>  <span style=font-weight:700>local</span> win = hs.window.focusedWindow()
</span></span><span style=display:flex><span>  <span style=font-weight:700>local</span> f = win:frame()
</span></span><span style=display:flex><span>  <span style=font-weight:700>local</span> screen = win:screen()
</span></span><span style=display:flex><span>  <span style=font-weight:700>local</span> max = screen:frame()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  f.x = max.x
</span></span><span style=display:flex><span>  f.y = max.y
</span></span><span style=display:flex><span>  f.w = max.w / 2
</span></span><span style=display:flex><span>  f.h = max.h
</span></span><span style=display:flex><span>  win:setFrame(f)
</span></span><span style=display:flex><span><span style=font-weight:700>end</span>)
</span></span></code></pre></div><h2 id=窗口管理>窗口管理
<a class=heading-link href=#%e7%aa%97%e5%8f%a3%e7%ae%a1%e7%90%86><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>在 Github 上可以看到很多 Hammerspoon 的示例，目前写的比较完善的有以下几个：</p><ul><li><a href=https://github.com/ashfinal/awesome-hammerspoon>https://github.com/ashfinal/awesome-hammerspoon</a></li><li><a href=https://github.com/wangshub/hammerspoon-config>https://github.com/wangshub/hammerspoon-config</a></li><li><a href=https://github.com/S1ngS1ng/HammerSpoon>https://github.com/S1ngS1ng/HammerSpoon</a></li></ul><p>虽然 Hammerspoon 提供了很多功能，但是我不想用它来实现很多功能，毕竟 AllinOne 我（没）不（什）是（么）很（好）喜（下）欢（场）。目前还没有使用 MacOS 存在一个常用的布局，所以先实现一些快捷键来满足需求就好。这里使用的 Spoon 包含两个：WinWin 和 ModalMgr。也不打算进行配置拆分，所有配置都在 init.lua 中写明，具体配置如下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>hs.hotkey.alertDuration = 0
</span></span><span style=display:flex><span>hs.hints.showTitleThresh = 0
</span></span><span style=display:flex><span>hs.window.animationDuration = 0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hsreload_keys = hsreload_keys <span style=font-weight:700>or</span> {{<span style=font-style:italic>&#34;cmd&#34;</span>, <span style=font-style:italic>&#34;shift&#34;</span>, <span style=font-style:italic>&#34;ctrl&#34;</span>}, <span style=font-style:italic>&#34;R&#34;</span>}
</span></span><span style=display:flex><span><span style=font-weight:700>if</span> string.len(hsreload_keys[2]) &gt; 0 <span style=font-weight:700>then</span>
</span></span><span style=display:flex><span>    hs.hotkey.bind(hsreload_keys[1], hsreload_keys[2], <span style=font-style:italic>&#34;重新加载配置!&#34;</span>, <span style=font-weight:700>function</span>() hs.reload() <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    hs.alert.show(<span style=font-style:italic>&#34;配置文件已经重新加载！ &#34;</span>)
</span></span><span style=display:flex><span><span style=font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hs.loadSpoon(<span style=font-style:italic>&#34;ModalMgr&#34;</span>)
</span></span><span style=display:flex><span>hs.loadSpoon(<span style=font-style:italic>&#34;WinWin&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>if</span> spoon.WinWin <span style=font-weight:700>then</span>
</span></span><span style=display:flex><span>    spoon.ModalMgr:new(<span style=font-style:italic>&#34;resizeM&#34;</span>)
</span></span><span style=display:flex><span>    <span style=font-weight:700>local</span> cmodal = spoon.ModalMgr.modal_list[<span style=font-style:italic>&#34;resizeM&#34;</span>]
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;escape&#39;</span>, <span style=font-style:italic>&#39;退出 &#39;</span>, <span style=font-weight:700>function</span>() spoon.ModalMgr:deactivate({<span style=font-style:italic>&#34;resizeM&#34;</span>}) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;Q&#39;</span>, <span style=font-style:italic>&#39;退出&#39;</span>, <span style=font-weight:700>function</span>() spoon.ModalMgr:deactivate({<span style=font-style:italic>&#34;resizeM&#34;</span>}) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;tab&#39;</span>, <span style=font-style:italic>&#39;键位提示&#39;</span>, <span style=font-weight:700>function</span>() spoon.ModalMgr:toggleCheatsheet() <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;A&#39;</span>, <span style=font-style:italic>&#39;向左移动&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;left&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;left&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;D&#39;</span>, <span style=font-style:italic>&#39;向右移动&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;right&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;right&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;W&#39;</span>, <span style=font-style:italic>&#39;向上移动&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;up&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;up&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;S&#39;</span>, <span style=font-style:italic>&#39;向下移动&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;down&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepMove(<span style=font-style:italic>&#34;down&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;H&#39;</span>, <span style=font-style:italic>&#39;左半屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;halfleft&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;L&#39;</span>, <span style=font-style:italic>&#39;右半屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;halfright&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;K&#39;</span>, <span style=font-style:italic>&#39;上半屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;halfup&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;J&#39;</span>, <span style=font-style:italic>&#39;下半屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;halfdown&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;Y&#39;</span>, <span style=font-style:italic>&#39;屏幕左上角&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;cornerNW&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;O&#39;</span>, <span style=font-style:italic>&#39;屏幕右上角&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;cornerNE&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;U&#39;</span>, <span style=font-style:italic>&#39;屏幕左下角&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;cornerSW&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;I&#39;</span>, <span style=font-style:italic>&#39;屏幕右下角&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;cornerSE&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;F&#39;</span>, <span style=font-style:italic>&#39;全屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;fullscreen&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;C&#39;</span>, <span style=font-style:italic>&#39;居中&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;center&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;G&#39;</span>, <span style=font-style:italic>&#39;左三分之二屏居中分屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;centermost&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;Z&#39;</span>, <span style=font-style:italic>&#39;展示显示&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;show&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;V&#39;</span>, <span style=font-style:italic>&#39;编辑显示&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;shows&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;X&#39;</span>, <span style=font-style:italic>&#39;二分之一居中分屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;center-2&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;=&#39;</span>, <span style=font-style:italic>&#39;窗口放大&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;expand&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;expand&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;-&#39;</span>, <span style=font-style:italic>&#39;窗口缩小&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;shrink&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;shrink&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;ctrl&#39;</span>, <span style=font-style:italic>&#39;H&#39;</span>, <span style=font-style:italic>&#39;向左收缩窗口&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;left&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;left&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;ctrl&#39;</span>, <span style=font-style:italic>&#39;L&#39;</span>, <span style=font-style:italic>&#39;向右扩展窗口&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;right&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;right&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;ctrl&#39;</span>, <span style=font-style:italic>&#39;K&#39;</span>, <span style=font-style:italic>&#39;向上收缩窗口&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;up&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;up&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;ctrl&#39;</span>, <span style=font-style:italic>&#39;J&#39;</span>, <span style=font-style:italic>&#39;向下扩镇窗口&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;down&#34;</span>) <span style=font-weight:700>end</span>, <span style=font-weight:700>nil</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stepResize(<span style=font-style:italic>&#34;down&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;left&#39;</span>, <span style=font-style:italic>&#39;窗口移至左边屏幕&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveToScreen(<span style=font-style:italic>&#34;left&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;right&#39;</span>, <span style=font-style:italic>&#39;窗口移至右边屏幕&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveToScreen(<span style=font-style:italic>&#34;right&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;up&#39;</span>, <span style=font-style:italic>&#39;窗口移至上边屏幕&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveToScreen(<span style=font-style:italic>&#34;up&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;down&#39;</span>, <span style=font-style:italic>&#39;窗口移动下边屏幕&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveToScreen(<span style=font-style:italic>&#34;down&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;space&#39;</span>, <span style=font-style:italic>&#39;窗口移至下一个屏幕&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveToScreen(<span style=font-style:italic>&#34;next&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;B&#39;</span>, <span style=font-style:italic>&#39;撤销最后一个窗口操作&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:undo() <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;R&#39;</span>, <span style=font-style:italic>&#39;重做最后一个窗口操作&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:redo() <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;[&#39;</span>, <span style=font-style:italic>&#39;左三分之二屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;mostleft&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;]&#39;</span>, <span style=font-style:italic>&#39;右三分之二屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;mostright&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;,&#39;</span>, <span style=font-style:italic>&#39;左三分之一屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;lesshalfleft&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;.&#39;</span>, <span style=font-style:italic>&#39;中分之一屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;onethird&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;/&#39;</span>, <span style=font-style:italic>&#39;右三分之一屏&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:stash() spoon.WinWin:moveAndResize(<span style=font-style:italic>&#34;lesshalfright&#34;</span>) <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cmodal:bind(<span style=font-style:italic>&#39;&#39;</span>, <span style=font-style:italic>&#39;t&#39;</span>, <span style=font-style:italic>&#39;将光标移至所在窗口中心位置&#39;</span>, <span style=font-weight:700>function</span>() spoon.WinWin:centerCursor() <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    hsresizeM_keys = hsresizeM_keys <span style=font-weight:700>or</span> {<span style=font-style:italic>&#34;alt&#34;</span>, <span style=font-style:italic>&#34;R&#34;</span>}
</span></span><span style=display:flex><span>    <span style=font-weight:700>if</span> string.len(hsresizeM_keys[2]) &gt; 0 <span style=font-weight:700>then</span>
</span></span><span style=display:flex><span>        spoon.ModalMgr.supervisor:bind(hsresizeM_keys[1], hsresizeM_keys[2], <span style=font-style:italic>&#34;进入窗口管理模式&#34;</span>, <span style=font-weight:700>function</span>()
</span></span><span style=display:flex><span>            spoon.ModalMgr:deactivateAll()
</span></span><span style=display:flex><span>            spoon.ModalMgr:activate({<span style=font-style:italic>&#34;resizeM&#34;</span>}, <span style=font-style:italic>&#34;#B22222&#34;</span>)
</span></span><span style=display:flex><span>        <span style=font-weight:700>end</span>)
</span></span><span style=display:flex><span>    <span style=font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>spoon.ModalMgr.supervisor:enter()
</span></span></code></pre></div><p>目前尝试增加应用切换窗口自动处理，但是 M1 上的 Hammerspoon 模块会 hang，还没搞清楚怎么回事，后续有时间再看看。</p></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>