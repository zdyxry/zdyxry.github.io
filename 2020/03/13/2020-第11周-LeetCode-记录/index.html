<!doctype html><html lang=zh-cn><head><title>2020 第11周 LeetCode 记录 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="1370. Increasing Decreasing String 链接到标题 题目描述很复杂，但其实就是排序和字典，先顺序遍历再反向遍历。（熟练使用 Counter）
Python 链接到标题 class Solution(object): def sortString(self, s): &#34;&#34;&#34; :type s: str :rtype: str &#34;&#34;&#34; set_s = set() for c in s: set_s.add(c) characters = sorted(set_s) d = collections.Counter(s) res = &#34;&#34; while sum(d.values()) != 0: for c in characters: if c in s and d[c] > 0: res += c d[c] -= 1 for c in characters[::-1]: if c in s and d[c] > 0: res += c d[c] -= 1 return res Golang 链接到标题 func sortString(s string) string { sMap := make(map[string]int, len(s)) for _, c := range s { sMap[string(c)]++ } chars := []string{} for c, _ := range sMap { chars = append(chars, string(c)) } sort."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="2020 第11周 LeetCode 记录"><meta name=twitter:description content="1370. Increasing Decreasing String 链接到标题 题目描述很复杂，但其实就是排序和字典，先顺序遍历再反向遍历。（熟练使用 Counter）
Python 链接到标题 class Solution(object): def sortString(self, s): &#34;&#34;&#34; :type s: str :rtype: str &#34;&#34;&#34; set_s = set() for c in s: set_s.add(c) characters = sorted(set_s) d = collections.Counter(s) res = &#34;&#34; while sum(d.values()) != 0: for c in characters: if c in s and d[c] > 0: res += c d[c] -= 1 for c in characters[::-1]: if c in s and d[c] > 0: res += c d[c] -= 1 return res Golang 链接到标题 func sortString(s string) string { sMap := make(map[string]int, len(s)) for _, c := range s { sMap[string(c)]++ } chars := []string{} for c, _ := range sMap { chars = append(chars, string(c)) } sort."><meta property="og:title" content="2020 第11周 LeetCode 记录"><meta property="og:description" content="1370. Increasing Decreasing String 链接到标题 题目描述很复杂，但其实就是排序和字典，先顺序遍历再反向遍历。（熟练使用 Counter）
Python 链接到标题 class Solution(object): def sortString(self, s): &#34;&#34;&#34; :type s: str :rtype: str &#34;&#34;&#34; set_s = set() for c in s: set_s.add(c) characters = sorted(set_s) d = collections.Counter(s) res = &#34;&#34; while sum(d.values()) != 0: for c in characters: if c in s and d[c] > 0: res += c d[c] -= 1 for c in characters[::-1]: if c in s and d[c] > 0: res += c d[c] -= 1 return res Golang 链接到标题 func sortString(s string) string { sMap := make(map[string]int, len(s)) for _, c := range s { sMap[string(c)]++ } chars := []string{} for c, _ := range sMap { chars = append(chars, string(c)) } sort."><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2020/03/13/2020-%E7%AC%AC11%E5%91%A8-LeetCode-%E8%AE%B0%E5%BD%95/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-13T21:09:45+00:00"><meta property="article:modified_time" content="2020-03-13T21:09:45+00:00"><link rel=canonical href=https://zdyxry.github.io/2020/03/13/2020-%E7%AC%AC11%E5%91%A8-LeetCode-%E8%AE%B0%E5%BD%95/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.a1f1da6f0baa626de1763fc8157fdea088797379b7bbeb845799f2fffd5d0c82.css integrity="sha256-ofHabwuqYm3hdj/IFX/eoIh5c3m3u+uEV5ny//1dDII=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2020/03/13/2020-%E7%AC%AC11%E5%91%A8-LeetCode-%E8%AE%B0%E5%BD%95/>2020 第11周 LeetCode 记录</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2020-03-13T21:09:45Z>March 13, 2020</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：3 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/LeetCode/>LeetCode</a></span></div></div></header><nav id=TableOfContents><ul><li><ul><li><a href=#1370-increasing-decreasing-string>1370. Increasing Decreasing String</a></li><li><a href=#1371-find-the-longest-substring-containing-vowels-in-even-counts>1371. Find the Longest Substring Containing Vowels in Even Counts</a></li><li><a href=#1372-longest-zigzag-path-in-a-binary-tree>1372. Longest ZigZag Path in a Binary Tree</a></li><li><a href=#1375-bulb-switcher-iii>1375. Bulb Switcher III</a></li><li><a href=#1376-time-needed-to-inform-all-employees>1376. Time Needed to Inform All Employees</a></li></ul></li></ul></nav><div class=post-content><h3 id=1370-increasing-decreasing-string>1370. Increasing Decreasing String
<a class=heading-link href=#1370-increasing-decreasing-string><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>题目描述很复杂，但其实就是排序和字典，先顺序遍历再反向遍历。（熟练使用 Counter）</p><h4 id=python>Python
<a class=heading-link href=#python><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> sortString(self, s):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type s: str
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: str
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        set_s = set()
</span></span><span style=display:flex><span>        <span style=font-weight:700>for</span> c <span style=font-weight:700>in</span> s:
</span></span><span style=display:flex><span>			set_s.add(c)
</span></span><span style=display:flex><span>        characters = sorted(set_s)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        d = collections.Counter(s)
</span></span><span style=display:flex><span>        res = <span style=font-style:italic>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=font-weight:700>while</span> sum(d.values()) != 0:
</span></span><span style=display:flex><span>            <span style=font-weight:700>for</span> c <span style=font-weight:700>in</span> characters:
</span></span><span style=display:flex><span>                <span style=font-weight:700>if</span> c <span style=font-weight:700>in</span> s <span style=font-weight:700>and</span> d[c] &gt; 0:
</span></span><span style=display:flex><span>                    res += c
</span></span><span style=display:flex><span>                    d[c] -= 1
</span></span><span style=display:flex><span>            <span style=font-weight:700>for</span> c <span style=font-weight:700>in</span> characters[::-1]:
</span></span><span style=display:flex><span>                <span style=font-weight:700>if</span> c <span style=font-weight:700>in</span> s <span style=font-weight:700>and</span> d[c] &gt; 0:
</span></span><span style=display:flex><span>                    res += c
</span></span><span style=display:flex><span>                    d[c] -= 1
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> res
</span></span></code></pre></div><h4 id=golang>Golang
<a class=heading-link href=#golang><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-weight:700>func</span> sortString(s <span>string</span>) <span>string</span> {
</span></span><span style=display:flex><span>	sMap := make(<span style=font-weight:700>map</span>[<span>string</span>]<span>int</span>, len(s))
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> _, c := <span style=font-weight:700>range</span> s {
</span></span><span style=display:flex><span>		sMap[string(c)]++
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	chars := []<span>string</span>{}
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> c, _ := <span style=font-weight:700>range</span> sMap {
</span></span><span style=display:flex><span>		chars = append(chars, string(c))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	sort.Strings(chars)
</span></span><span style=display:flex><span>	res := <span style=font-style:italic>&#34;&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> len(sMap) &gt; 0 {
</span></span><span style=display:flex><span>		<span style=font-weight:700>for</span> i := <span style=font-weight:700>range</span> chars {
</span></span><span style=display:flex><span>			<span style=font-weight:700>if</span> sMap[chars[i]] &gt; 0 {
</span></span><span style=display:flex><span>				res += string(chars[i])
</span></span><span style=display:flex><span>				sMap[chars[i]]--
</span></span><span style=display:flex><span>			} <span style=font-weight:700>else</span> {
</span></span><span style=display:flex><span>				delete(sMap, chars[i])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=font-weight:700>for</span> i := <span style=font-weight:700>range</span> chars {
</span></span><span style=display:flex><span>			<span style=font-weight:700>if</span> sMap[chars[len(chars)-i-1]] &gt; 0 {
</span></span><span style=display:flex><span>				res += string(chars[len(chars)-i-1])
</span></span><span style=display:flex><span>				sMap[chars[len(chars)-i-1]]--
</span></span><span style=display:flex><span>			} <span style=font-weight:700>else</span> {
</span></span><span style=display:flex><span>				delete(sMap, chars[len(chars)-i-1])
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=font-weight:700>return</span> res
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=1371-find-the-longest-substring-containing-vowels-in-even-counts>1371. Find the Longest Substring Containing Vowels in Even Counts
<a class=heading-link href=#1371-find-the-longest-substring-containing-vowels-in-even-counts><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>采用状态压缩的方式，将每个元音字母出现次数的奇偶作为一种状态，1 表示为奇数次，0表示偶数次，那么一共有 2^5=32 种状态。遍历所有的字符，如果当前字符是元音字母，那么就进行异或操作，并记录此时状态。如果子串[0，i]与字串[0,j]状态相同，那么字串[i+1,j]的状态一定是0，因此可以记录每个状态第一次出现的位置，此后再出现该状态时相减即可。</p><p>来源：https://leetcode-cn.com/problems/find-the-longest-substring-containing-vowels-in-even-counts/solution/jian-dan-de-si-lu-by-mnizy/</p><p>需要将状态 0 出现的位置设置为 -1，比如 &ldquo;ele&rdquo; ，当循环到第一个 e 时，e 出现奇数次，当循环到第二个 e 时，e 出现偶数次，此时 &ldquo;ele&rdquo; 符合条件，且状态为 0，那么需要用第二个 e 的索引值减去状态0 出现的位置，如果状态0 为空，那么第二个e 的状态0就会被当作第一次出现记录下来，导致结果错误，应为 2 - (-1) = 3。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> findTheLongestSubstring(self, s):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type s: str
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        vowels = {<span style=font-style:italic>&#39;a&#39;</span>: 1, <span style=font-style:italic>&#39;e&#39;</span>: 2, <span style=font-style:italic>&#39;i&#39;</span>: 4, <span style=font-style:italic>&#39;o&#39;</span>: 8, <span style=font-style:italic>&#39;u&#39;</span>: 16}
</span></span><span style=display:flex><span>        d, n, r = {0: -1}, 0, 0
</span></span><span style=display:flex><span>        <span style=font-weight:700>for</span> i, c <span style=font-weight:700>in</span> enumerate(s):
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> c <span style=font-weight:700>in</span> vowels:
</span></span><span style=display:flex><span>                n ^= vowels[c]
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> n <span style=font-weight:700>not</span> <span style=font-weight:700>in</span> d:
</span></span><span style=display:flex><span>                d[n] = i
</span></span><span style=display:flex><span>            <span style=font-weight:700>else</span>:
</span></span><span style=display:flex><span>                r = max(r, i - d[n])
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> r
</span></span></code></pre></div><h3 id=1372-longest-zigzag-path-in-a-binary-tree>1372. Longest ZigZag Path in a Binary Tree
<a class=heading-link href=#1372-longest-zigzag-path-in-a-binary-tree><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>二叉树中的最长交错路径，使用 dfs 求解，dfs 返回值是[node.left 的最大长度，node.right 的最大长度，node 的最大长度]。
这里需要考虑当 root 为 None 时的返回值是多少，因为每递归一层，都需要在上一层将结果 +1 ，如果 root == None，那么 -1 + 1 = 0 。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-style:italic># Definition for a binary tree node.</span>
</span></span><span style=display:flex><span><span style=font-style:italic># class TreeNode(object):</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#     def __init__(self, x):</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.val = x</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.left = None</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.right = None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> longestZigZag(self, root):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type root: TreeNode
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=font-weight:700>def</span> dfs(root):
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> <span style=font-weight:700>not</span> root:
</span></span><span style=display:flex><span>                <span style=font-weight:700>return</span> [-1, -1, -1]
</span></span><span style=display:flex><span>            left, right = dfs(root.left), dfs(root.right)
</span></span><span style=display:flex><span>            <span style=font-weight:700>return</span> [left[1] + 1, right[0] + 1, max(left[1]+1, right[0]+1, left[2], right[2])]
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> dfs(root)[-1]
</span></span></code></pre></div><p>换一种方式比较好理解，传入两个参数：count 和当前所在的是 node 的 left 还是 right，如果上一层是 left，那么就在 node.right 将 count +1，否则将 count 置为1重新计数。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-style:italic># Definition for a binary tree node.</span>
</span></span><span style=display:flex><span><span style=font-style:italic># class TreeNode(object):</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#     def __init__(self, x):</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.val = x</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.left = None</span>
</span></span><span style=display:flex><span><span style=font-style:italic>#         self.right = None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> longestZigZag(self, root):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type root: TreeNode
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self.res = 0
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=font-weight:700>def</span> dfs(node, count, direction):
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> node:
</span></span><span style=display:flex><span>                <span style=font-weight:700>if</span> count &gt; self.res:
</span></span><span style=display:flex><span>                    self.res = count
</span></span><span style=display:flex><span>                <span style=font-weight:700>if</span> direction == <span style=font-style:italic>&#39;left&#39;</span>:
</span></span><span style=display:flex><span>                    dfs(node.right, count+1, <span style=font-style:italic>&#39;right&#39;</span>)
</span></span><span style=display:flex><span>                    dfs(node.left, 1, <span style=font-style:italic>&#39;left&#39;</span>)
</span></span><span style=display:flex><span>                <span style=font-weight:700>else</span>:
</span></span><span style=display:flex><span>                    dfs(node.left, count+1, <span style=font-style:italic>&#39;left&#39;</span>)
</span></span><span style=display:flex><span>                    dfs(node.right, 1, <span style=font-style:italic>&#39;right&#39;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=font-weight:700>if</span> root.left:
</span></span><span style=display:flex><span>            dfs(root.left, 1, <span style=font-style:italic>&#39;left&#39;</span>)
</span></span><span style=display:flex><span>        <span style=font-weight:700>if</span> root.right:
</span></span><span style=display:flex><span>            dfs(root.right, 1, <span style=font-style:italic>&#39;right&#39;</span>)
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> self.res
</span></span></code></pre></div><h3 id=1375-bulb-switcher-iii>1375. Bulb Switcher III
<a class=heading-link href=#1375-bulb-switcher-iii><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>属于那种题目很复杂，做起来很简单的类型，只需要判断当前最大值与当前索引是否相当即可。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> numTimesAllBlue(self, light):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type light: List[int]
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        res = 0
</span></span><span style=display:flex><span>        max_idx = 0
</span></span><span style=display:flex><span>        <span style=font-weight:700>for</span> i, b <span style=font-weight:700>in</span> enumerate(light):
</span></span><span style=display:flex><span>            max_idx = max(max_idx, b)
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> i+1 == max_idx:
</span></span><span style=display:flex><span>                print b
</span></span><span style=display:flex><span>                res+= 1
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> res
</span></span></code></pre></div><h3 id=1376-time-needed-to-inform-all-employees>1376. Time Needed to Inform All Employees
<a class=heading-link href=#1376-time-needed-to-inform-all-employees><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p>使用 DFS 求解，先确定每个员工及它所负责通知的员工，再根据 headID 递归求解。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> numOfMinutes(self, n, headID, manager, informTime):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type n: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type headID: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type manager: List[int]
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type informTime: List[int]
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        children = [[] <span style=font-weight:700>for</span> i <span style=font-weight:700>in</span> xrange(n)]
</span></span><span style=display:flex><span>        <span style=font-weight:700>for</span> i, m <span style=font-weight:700>in</span> enumerate(manager):
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> m &gt;= 0: children[m].append(i)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=font-weight:700>def</span> dfs(i):
</span></span><span style=display:flex><span>            <span style=font-weight:700>return</span> max([dfs(j) <span style=font-weight:700>for</span> j <span style=font-weight:700>in</span> children[i]] <span style=font-weight:700>or</span> [0]) + informTime[i]
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> dfs(headID)
</span></span></code></pre></div><p>也可以自底向上求解，为避免重复计算，将每次计算结果记录下来。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>class</span> <span style=font-weight:700>Solution</span>(object):
</span></span><span style=display:flex><span>    <span style=font-weight:700>def</span> numOfMinutes(self, n, headID, manager, informTime):
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type n: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type headID: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type manager: List[int]
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :type informTime: List[int]
</span></span></span><span style=display:flex><span><span style=font-style:italic>        :rtype: int
</span></span></span><span style=display:flex><span><span style=font-style:italic>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=font-weight:700>def</span> dfs(i):
</span></span><span style=display:flex><span>            <span style=font-weight:700>if</span> manager[i] != -1:
</span></span><span style=display:flex><span>                informTime[i] += dfs(manager[i])
</span></span><span style=display:flex><span>                manager[i] = -1
</span></span><span style=display:flex><span>            <span style=font-weight:700>return</span> informTime[i]
</span></span><span style=display:flex><span>        <span style=font-weight:700>return</span> max(map(dfs, range(n)))
</span></span></code></pre></div></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>