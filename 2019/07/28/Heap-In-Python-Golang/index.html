<!doctype html><html lang=en><head><title>Heap In Python & Golang · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="背景 Link to heading 最近使用到了 heap 这个数据结构，记录一下在 Python 和 Golang 中最基本的使用方法～
堆（英语：Heap）是计算机科学中的一種特別的樹狀数据结构。若是滿足以下特性，即可稱為堆積：「給定堆積中任意節點P和C，若P是C的母節點，那麼P的值會小於等於（或大於等於）C的值」。若母節點的值恆小於等於子節點的值，此堆積稱為最小堆積（min heap）；反之，若母節點的值恆大於等於子節點的值，此堆積稱為最大堆積（max heap）。在堆積中最頂端的那一個節點，稱作根節點（root node），根節點本身沒有母節點（parent node）。
Python Link to heading create Link to heading In [1]: import heapq In [2]: a = [1,3,2,5,4] In [3]: heapq.heapify(a) In [4]: a Out[4]: [1, 3, 2, 5, 4] In [5]: b = [] In [6]: heapq.heappu heapq.heappush heapq.heappushpop In [6]: heapq.heappush(b, 1) In [7]: heapq.heappush(b, 3) In [8]: heapq.heappush(b, 2) In [9]: heapq."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Heap In Python & Golang"><meta name=twitter:description content="背景 Link to heading 最近使用到了 heap 这个数据结构，记录一下在 Python 和 Golang 中最基本的使用方法～
堆（英语：Heap）是计算机科学中的一種特別的樹狀数据结构。若是滿足以下特性，即可稱為堆積：「給定堆積中任意節點P和C，若P是C的母節點，那麼P的值會小於等於（或大於等於）C的值」。若母節點的值恆小於等於子節點的值，此堆積稱為最小堆積（min heap）；反之，若母節點的值恆大於等於子節點的值，此堆積稱為最大堆積（max heap）。在堆積中最頂端的那一個節點，稱作根節點（root node），根節點本身沒有母節點（parent node）。
Python Link to heading create Link to heading In [1]: import heapq In [2]: a = [1,3,2,5,4] In [3]: heapq.heapify(a) In [4]: a Out[4]: [1, 3, 2, 5, 4] In [5]: b = [] In [6]: heapq.heappu heapq.heappush heapq.heappushpop In [6]: heapq.heappush(b, 1) In [7]: heapq.heappush(b, 3) In [8]: heapq.heappush(b, 2) In [9]: heapq."><meta property="og:title" content="Heap In Python & Golang"><meta property="og:description" content="背景 Link to heading 最近使用到了 heap 这个数据结构，记录一下在 Python 和 Golang 中最基本的使用方法～
堆（英语：Heap）是计算机科学中的一種特別的樹狀数据结构。若是滿足以下特性，即可稱為堆積：「給定堆積中任意節點P和C，若P是C的母節點，那麼P的值會小於等於（或大於等於）C的值」。若母節點的值恆小於等於子節點的值，此堆積稱為最小堆積（min heap）；反之，若母節點的值恆大於等於子節點的值，此堆積稱為最大堆積（max heap）。在堆積中最頂端的那一個節點，稱作根節點（root node），根節點本身沒有母節點（parent node）。
Python Link to heading create Link to heading In [1]: import heapq In [2]: a = [1,3,2,5,4] In [3]: heapq.heapify(a) In [4]: a Out[4]: [1, 3, 2, 5, 4] In [5]: b = [] In [6]: heapq.heappu heapq.heappush heapq.heappushpop In [6]: heapq.heappush(b, 1) In [7]: heapq.heappush(b, 3) In [8]: heapq.heappush(b, 2) In [9]: heapq."><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2019/07/28/Heap-In-Python-Golang/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-28T12:11:45+00:00"><meta property="article:modified_time" content="2019-07-28T12:11:45+00:00"><link rel=canonical href=https://zdyxry.github.io/2019/07/28/Heap-In-Python-Golang/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.01bd429dda63a16d76996eaf0b8da061429b76e714515cb1b246aac7fe7f4b2a.css integrity="sha256-Ab1CndpjoW12mW6vC42gYUKbducUUVyxskaqx/5/Syo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2019/07/28/Heap-In-Python-Golang/>Heap In Python & Golang</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2019-07-28T12:11:45Z>July 28, 2019</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
4-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/Python/>Python</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/Golang/>Golang</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#背景>背景</a></li><li><a href=#python>Python</a><ul><li><a href=#create>create</a></li><li><a href=#read>read</a></li><li><a href=#update>update</a></li><li><a href=#delete>delete</a></li></ul></li><li><a href=#golang>Golang</a></li><li><a href=#constructor>Constructor</a><ul><li><a href=#create-1>create</a></li><li><a href=#read-1>read</a></li><li><a href=#update-1>update</a></li><li><a href=#delete-1>delete</a></li></ul></li><li><a href=#总结>总结</a></li><li><a href=#参考链接>参考链接</a></li></ul></nav><div class=post-content><h2 id=背景>背景
<a class=heading-link href=#%e8%83%8c%e6%99%af><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>最近使用到了 heap 这个数据结构，记录一下在 Python 和 Golang 中最基本的使用方法～</p><blockquote><p>堆（英语：Heap）是计算机科学中的一種特別的樹狀数据结构。若是滿足以下特性，即可稱為堆積：「給定堆積中任意節點P和C，若P是C的母節點，那麼P的值會小於等於（或大於等於）C的值」。若母節點的值恆小於等於子節點的值，此堆積稱為最小堆積（min heap）；反之，若母節點的值恆大於等於子節點的值，此堆積稱為最大堆積（max heap）。在堆積中最頂端的那一個節點，稱作根節點（root node），根節點本身沒有母節點（parent node）。</p></blockquote><h2 id=python>Python
<a class=heading-link href=#python><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=create>create
<a class=heading-link href=#create><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [1]: <span style=font-weight:700>import</span> <span style=font-weight:700>heapq</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [2]: a = [1,3,2,5,4]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [3]: heapq.heapify(a)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [4]: a
</span></span><span style=display:flex><span>Out[4]: [1, 3, 2, 5, 4]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [5]: b = []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [6]: heapq.heappu
</span></span><span style=display:flex><span>heapq.heappush     heapq.heappushpop
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [6]: heapq.heappush(b, 1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [7]: heapq.heappush(b, 3)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [8]: heapq.heappush(b, 2)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [9]: heapq.heappush(b, 5)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [10]: heapq.heappush(b, 4)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [11]: b
</span></span><span style=display:flex><span>Out[11]: [1, 3, 2, 5, 4]
</span></span></code></pre></div><h3 id=read>read
<a class=heading-link href=#read><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [28]: b
</span></span><span style=display:flex><span>Out[28]: [1, 3, 2, 5, 4]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [29]: heapq.nlargest(3, b)
</span></span><span style=display:flex><span>Out[29]: [5, 4, 3]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [30]: heapq.nsmallest(2, b)
</span></span><span style=display:flex><span>Out[30]: [1, 2]
</span></span></code></pre></div><h3 id=update>update
<a class=heading-link href=#update><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [32]: heapq.heappush(b, 6)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [33]: b
</span></span><span style=display:flex><span>Out[33]: [1, 3, 2, 5, 4, 6]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [39]: heapq.heapreplace(b, 7)
</span></span><span style=display:flex><span>Out[39]: 1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [40]: b
</span></span><span style=display:flex><span>Out[40]: [2, 3, 6, 5, 4, 6, 7]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [41]: a = [6,8,7,9]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [42]: heapq.heapify(a)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [43]: b
</span></span><span style=display:flex><span>Out[43]: [2, 3, 6, 5, 4, 6, 7]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [45]: c = heapq.merge(a,b)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [46]: list(c)
</span></span><span style=display:flex><span>Out[46]: [2, 3, 6, 6, 5, 4, 6, 7, 8, 7, 9]
</span></span></code></pre></div><h3 id=delete>delete
<a class=heading-link href=#delete><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [50]: b
</span></span><span style=display:flex><span>Out[50]: [2, 3, 6, 5, 4, 6, 7]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [51]: heapq.heappop(b)
</span></span><span style=display:flex><span>Out[51]: 2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [52]: b
</span></span><span style=display:flex><span>Out[52]: [3, 4, 6, 5, 7, 6]
</span></span></code></pre></div><h2 id=golang>Golang
<a class=heading-link href=#golang><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Golang 中没有 heapq 这种封装好的库可以直接使用，不过有 <code>container/heap</code> ，提供了同样的方法，只是我们需要先对我们的操作对象实现搜有的 <code>heap.Interface</code> 方法。</p><h2 id=constructor>Constructor
<a class=heading-link href=#constructor><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-style:italic>// This example demonstrates an integer heap built using the heap interface.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// An IntHeap is a min-heap of ints.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>type</span> IntHeap []<span>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Len() <span>int</span>           { <span style=font-weight:700>return</span> len(h) }
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Less(i, j <span>int</span>) <span>bool</span> { <span style=font-weight:700>return</span> h[i] &lt; h[j] }
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Swap(i, j <span>int</span>)      { h[i], h[j] = h[j], h[i] }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h *IntHeap) Push(x <span style=font-weight:700>interface</span>{}) {
</span></span><span style=display:flex><span>	<span style=font-style:italic>// Push and Pop use pointer receivers because they modify the slice&#39;s length,
</span></span></span><span style=display:flex><span><span style=font-style:italic></span>	<span style=font-style:italic>// not just its contents.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span>	*h = append(*h, x.(<span>int</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// 取最后一个元素，在 `container/heap.Pop` 中，将堆顶的元素放置在最后，然后调用 `container/heap.Down` 将当前堆顶元素下沉到适当位置。
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>func</span> (h *IntHeap) Pop() <span style=font-weight:700>interface</span>{} {
</span></span><span style=display:flex><span>	old := *h
</span></span><span style=display:flex><span>	n := len(old)
</span></span><span style=display:flex><span>	x := old[n-1]
</span></span><span style=display:flex><span>	*h = old[0 : n-1]
</span></span><span style=display:flex><span>	<span style=font-weight:700>return</span> x
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// // An IntHeap is a max-heap of ints.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>type</span> MaxHeap <span style=font-weight:700>struct</span> {
</span></span><span style=display:flex><span>	IntHeap
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h MaxHeap) Less(i, j <span>int</span>) <span>bool</span> { <span style=font-weight:700>return</span> h.IntHeap[i] &gt; h.IntHeap[j] }
</span></span></code></pre></div><h3 id=create-1>create
<a class=heading-link href=#create-1><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-style:italic>// This example demonstrates an integer heap built using the heap interface.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// This example inserts several ints into an IntHeap, checks the minimum,
</span></span></span><span style=display:flex><span><span style=font-style:italic>// and removes them in order of priority.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>func</span> main() {
</span></span><span style=display:flex><span>	h := &amp;IntHeap{2, 1, 5}
</span></span><span style=display:flex><span>	heap.Init(h)
</span></span><span style=display:flex><span>	heap.Push(h, 3)
</span></span><span style=display:flex><span>	fmt.Printf(<span style=font-style:italic>&#34;minimum: %d\n&#34;</span>, (*h)[0])
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> h.Len() &gt; 0 {
</span></span><span style=display:flex><span>		fmt.Printf(<span style=font-style:italic>&#34;%d &#34;</span>, heap.Pop(h))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=read-1>read
<a class=heading-link href=#read-1><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> main() {
</span></span><span style=display:flex><span>	h := &amp;IntHeap{2, 1, 5}
</span></span><span style=display:flex><span>	heap.Init(h)
</span></span><span style=display:flex><span>	heap.Push(h, 3)
</span></span><span style=display:flex><span>	fmt.Printf(<span style=font-style:italic>&#34;minimum: %d\n&#34;</span>, (*h)[0])
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> h.Len() &gt; 0 {
</span></span><span style=display:flex><span>		fmt.Printf(<span style=font-style:italic>&#34;%d &#34;</span>, heap.Pop(h))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	fmt.Println()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	h1 := &amp;MaxHeap{[]<span>int</span>{2, 1, 5}}
</span></span><span style=display:flex><span>	heap.Init(h1)
</span></span><span style=display:flex><span>	heap.Push(h1, 3)
</span></span><span style=display:flex><span>	fmt.Printf(<span style=font-style:italic>&#34;maximum: %d\n&#34;</span>, h1.IntHeap[0])
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> h1.Len() &gt; 0 {
</span></span><span style=display:flex><span>		fmt.Printf(<span style=font-style:italic>&#34;%d &#34;</span>, heap.Pop(h1))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	fmt.Println()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=update-1>update
<a class=heading-link href=#update-1><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> main() {
</span></span><span style=display:flex><span>	h := &amp;IntHeap{2, 1, 5}
</span></span><span style=display:flex><span>	heap.Init(h)
</span></span><span style=display:flex><span>	heap.Push(h, 3)
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> h.Len() &gt; 0 {
</span></span><span style=display:flex><span>		fmt.Printf(<span style=font-style:italic>&#34;%d &#34;</span>, heap.Pop(h))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	fmt.Println()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=delete-1>delete
<a class=heading-link href=#delete-1><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=font-style:italic>// This example demonstrates an integer heap built using the heap interface.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;container/heap&#34;</span>
</span></span><span style=display:flex><span>	<span style=font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// An IntHeap is a min-heap of ints.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>type</span> IntHeap []<span>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Len() <span>int</span>           { <span style=font-weight:700>return</span> len(h) }
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Less(i, j <span>int</span>) <span>bool</span> { <span style=font-weight:700>return</span> h[i] &lt; h[j] }
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h IntHeap) Swap(i, j <span>int</span>)      { h[i], h[j] = h[j], h[i] }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h *IntHeap) Push(x <span style=font-weight:700>interface</span>{}) {
</span></span><span style=display:flex><span>	<span style=font-style:italic>// Push and Pop use pointer receivers because they modify the slice&#39;s length,
</span></span></span><span style=display:flex><span><span style=font-style:italic></span>	<span style=font-style:italic>// not just its contents.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span>	*h = append(*h, x.(<span>int</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>func</span> (h *IntHeap) Pop() <span style=font-weight:700>interface</span>{} {
</span></span><span style=display:flex><span>	old := *h
</span></span><span style=display:flex><span>	n := len(old)
</span></span><span style=display:flex><span>	x := old[n-1]
</span></span><span style=display:flex><span>	*h = old[0 : n-1]
</span></span><span style=display:flex><span>	<span style=font-weight:700>return</span> x
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-style:italic>// This example inserts several ints into an IntHeap, checks the minimum,
</span></span></span><span style=display:flex><span><span style=font-style:italic>// and removes them in order of priority.
</span></span></span><span style=display:flex><span><span style=font-style:italic></span><span style=font-weight:700>func</span> main() {
</span></span><span style=display:flex><span>	h := &amp;IntHeap{2, 1, 5}
</span></span><span style=display:flex><span>	heap.Init(h)
</span></span><span style=display:flex><span>	heap.Push(h, 3)
</span></span><span style=display:flex><span>	fmt.Println(h)
</span></span><span style=display:flex><span>	heap.Remove(h, 2)
</span></span><span style=display:flex><span>	<span style=font-weight:700>for</span> h.Len() &gt; 0 {
</span></span><span style=display:flex><span>		fmt.Printf(<span style=font-style:italic>&#34;%d &#34;</span>, heap.Pop(h))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=总结>总结
<a class=heading-link href=#%e6%80%bb%e7%bb%93><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Heap 的使用场景有：优先级队列、TopK 等等。</p><h2 id=参考链接>参考链接
<a class=heading-link href=#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://godoc.org/container/heap>https://godoc.org/container/heap</a></li><li><a href=https://docs.python.org/3.7/library/heapq.html>https://docs.python.org/3.7/library/heapq.html</a></li><li><a href=https://ieevee.com/tech/2018/01/29/go-heap.html>https://ieevee.com/tech/2018/01/29/go-heap.html</a></li></ul></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>