<!doctype html><html lang=zh-cn><head><title>Weekly Issue 2023-03-18 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="有脱口秀陪伴的一周。"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Weekly Issue 2023-03-18"><meta name=twitter:description content="有脱口秀陪伴的一周。"><meta property="og:title" content="Weekly Issue 2023-03-18"><meta property="og:description" content="有脱口秀陪伴的一周。"><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2023/03/18/Weekly-Issue-2023-03-18/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-18T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-18T00:00:00+00:00"><link rel=canonical href=https://zdyxry.github.io/2023/03/18/Weekly-Issue-2023-03-18/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.76ce9bad7ac9bd368d486c6e91e7e0906fff71d9d35ccbf93959a375e2bf50e5.css integrity="sha256-ds6brXrJvTaNSGxukefgkG//cdnTXMv5OVmjdeK/UOU=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2023/03/18/Weekly-Issue-2023-03-18/>Weekly Issue 2023-03-18</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-03-18T00:00:00Z>March 18, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：1 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/Weekly/>Weekly</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#文章>文章</a><ul><li><a href=#技术>技术</a></li><li><a href=#生活>生活</a></li></ul></li><li><a href=#书影>书影</a></li></ul></nav><div class=post-content><h2 id=文章>文章
<a class=heading-link href=#%e6%96%87%e7%ab%a0><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=技术>技术
<a class=heading-link href=#%e6%8a%80%e6%9c%af><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://dropbox.tech/infrastructure/four-years-of-smr-storage-what-we-love-and-whats-next>After four years of SMR storage, here&rsquo;s what we love—and what comes next - Dropbox</a></p><p>与 [[Backblaze]] 不同， [[Dropbox]] 目前大量使用[[SMR]] 磁盘。密度高，省电，服务器数量减少，维修成本降低。</p><hr><p><a href=https://www.manjusaka.blog/posts/2023/03/12/a-simple-introduction-about-iac/>简单聊聊 IaC：Infrastructure as Code - Manjusaka</a></p><p>最近在使用 [[Packer]]配合 [[terraform]] 来帮助我自动的创建一些环境（虚拟机），我的创建是 [[vSphere]] 已经存在，如果只是创建新的虚拟机，那不会遇到太多问题，但是如果我想要针对某一个[[vSphere]] 集群中的所有主机增加一个 vswitch，然后新创建的虚拟机关联的是对应的 vswitch，这个需求就很难做到，首先想要从集群获取到所有主机，就需要先 import resource，而 import resource 和 code 中定义的 resource 中的状态是有很大差别的，所以import resouce 之后，需要去更新 code 中定义的对应 resource，然后继续后续步骤，整体流程一点也不 [[IaC]] ，社区中有一些自动 import resource 并生成 code 的项目，但是对于各个 provider 的支持力度有限，感觉这个场景应该在 [[terraform]] 中做，而不是去适配。</p><hr><p><a href=https://sourceforge.net/p/ipmitool/mailman/message/37787037/>[Ipmitool-devel] GitHub account suspended | IPMItool</a></p><p>[[ipmitool]] 项目被 [[github]] 归档，目前可能得原因是维护者是俄罗斯人，所在公司被制裁。</p><hr><p><a href=https://danielmangum.com/posts/how-kubernetes-validates-custom-resources/>How Kubernetes Validates Custom Resources · Daniel Mangum</a></p><p>讲解 [[CRD]] 如何进行校验，附带一个最小实现示例。</p><hr><p><a href=https://www.lastweekinaws.com/blog/aws-is-asleep-at-the-lambda-wheel/>AWS is Asleep at the Lambda Wheel - Last Week in AWS Blog</a></p><p>[[AWS]] 对于各个语言的运行时支持不是很积极。</p><hr><p><a href=https://engineering.linkedin.com/blog/2023/scaling-autobuild--our-journey-towards-delivering-an-enhanced-cu>Scaling AutoBuild: Our Journey Towards Delivering An Enhanced Customer Experience | LinkedIn Engineering</a></p><p>[[linkedin]] 的 [[AutoBuild]] 架构演进。[[AutoBuild]] 是用来管理 [[BareMetal]] 的内部工具，随着新增节点和原有节点重置之前的动作混合，带来了很多问题，比如任务优先级，消息队列不稳定导致的消息丢失，存在单点故障。所以开发了 V2 版本来解决上述问题。</p><hr><p><a href=https://blog.rust-lang.org/inside-rust/2023/02/08/dns-outage-portmortem.html>DNS Outage on 2023-01-25 | Inside Rust Blog</a></p><p>使用[[Terraform]] 进行环境管理中出现的问题，根本原因是执行一次变更中包含了多个内容，导致在进行状态比对的时候将多个资源进行了状态变更，从而引发了问题。
经验教训：测试环境中的变更需要依次在生产环境中执行变更，尽量避免一次进行多个资源状态变更；尽量减少测试环境与生产环境的偏差。</p><hr><p><a href=https://ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell>The yaml document from hell</a></p><p>又是一片吐槽[[YAML]] 的文章，结论中推荐使用[[TOML]] 。</p><hr><p><a href=https://symbiosis.host/blog/comparing-node-launch-times>Benchmarking Kubernetes node initialization - Symbiosis</a></p><p>在[[公有云]]上创建 [[kubernetes]] 节点的 [[benchmark]]，不知道当考虑 scale 的时候是否能够满足用户需求。</p><hr><p><a href=https://wgzhao.github.io/notes/troubleshooting/deep-in-tcp-connect/>详解 TCP 半连接队列与全连接队列 - 个人笔记</a></p><p>[[TCP]] 半连接队列与全连接队列相关参数理论及验证。在<a href=https://www.51cto.com/article/687595.html>从一次线上问题说起，详解 TCP 半连接队列、全连接队列-51CTO.COM</a> 的基础上补充了全连接队列验证的抓包结果。</p><h3 id=生活>生活
<a class=heading-link href=#%e7%94%9f%e6%b4%bb><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://danielmangum.com/posts/please-mind-your-metaphors/>Please Mind Your Metaphors · Daniel Mangum</a></p><p>在使用隐喻的时候，需要注意，是否为了使用隐喻，而又补充说明了很多与隐喻不相同的点。</p><hr><h2 id=书影>书影
<a class=heading-link href=#%e4%b9%a6%e5%bd%b1><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>《毫无意义》，伍迪艾伦的自传，刚开始看。</p><p>《姨妈的后现代生活》，值得思考。</p><p>《重启人生》，如果会重新来过，会选择走一样的路，还是完全不同的路。</p></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>