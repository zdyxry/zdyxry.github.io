<!doctype html><html lang=zh-cn><head><title>Weekly Issue 2023-03-12 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="疲惫的一周。"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Weekly Issue 2023-03-12"><meta name=twitter:description content="疲惫的一周。"><meta property="og:title" content="Weekly Issue 2023-03-12"><meta property="og:description" content="疲惫的一周。"><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2023/03/12/Weekly-Issue-2023-03-12/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-12T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-12T00:00:00+00:00"><link rel=canonical href=https://zdyxry.github.io/2023/03/12/Weekly-Issue-2023-03-12/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.76ce9bad7ac9bd368d486c6e91e7e0906fff71d9d35ccbf93959a375e2bf50e5.css integrity="sha256-ds6brXrJvTaNSGxukefgkG//cdnTXMv5OVmjdeK/UOU=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2023/03/12/Weekly-Issue-2023-03-12/>Weekly Issue 2023-03-12</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-03-12T00:00:00Z>March 12, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：2 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/Weekly/>Weekly</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#文章>文章</a><ul><li><a href=#技术>技术</a></li><li><a href=#生活>生活</a></li></ul></li><li><a href=#书影>书影</a></li></ul></nav><div class=post-content><h2 id=文章>文章
<a class=heading-link href=#%e6%96%87%e7%ab%a0><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=技术>技术
<a class=heading-link href=#%e6%8a%80%e6%9c%af><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://catcoding.me/p/apple-perf/>苹果：为了安全让 M2 吃灰 | 程序员的喵</a></p><p>[[MacOS]] [[SIP]] 严重影响性能。</p><blockquote><p><strong>简而言之 <code>SIP</code> 会在我们跑任软件之前，把你的执行文件做一个校验和，然后通过网络请求发送到让人敬畏的苹果服务器，就是为了检测是否是恶意软件！</strong><a href=https://reorx.com/makers-daily/004-prompts-and-parameters-transparancy/>谈谈我对 ChatGPT 应用的 prompt 的看法 |</a></p></blockquote><hr><p><a href=https://threeofwands.com/python-is-two-languages-now-and-thats-actually-great/>Python is two languages now, and that&rsquo;s actually great</a></p><p>作者认为 [[Python]] 现在分为 <strong>untyped Python</strong> 和 <strong>typed Python</strong> ，并会永远的持续下去。最近公司的项目在从 [[Python2]] 迁移至[[Python3]] ，如果之后选择 library，那肯定会优先选择 type hints 的。</p><hr><p><a href=https://codefresh.io/blog/pains-gitops-1-0/>The pains of GitOps 1.0 | Codefresh</a></p><p>对于 [[GitOps]]管理的资源后续因为 auto-scale 等配置引发的不一致情况，[[Argo]] 通过<a href=https://github.com/argoproj/argo-cd/issues/2913>custom diff</a> 来避免，[[terraform]] 通过 <a href=https://developer.hashicorp.com/terraform/language/meta-arguments/lifecycle#ignore_changes>ignore_changes</a> ，来避免。</p><hr><p><a href=https://danielmangum.com/posts/runc-chdir-to-cwd/>chdir to cwd: permission denied · Daniel Mangum</a></p><p>[[runc]] 在 <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1934177">v1.0.0-rc93</a> 的改动导致的 breaking change。在使用 <code>distroless/static:nonroot</code> 时，将用户设置为 <code>nonroot</code> UID 是<code>65532</code> ，并将工作目录设置为 <code>/home/nonroot</code> ，权限是 0700。
之前版本的 [[runc]] 会先 <code>chdir</code> 然后设置用户，在执行 <code>chdir</code> 的时候会以 <code>root</code> 来执行，所以不会因为权限而抛出错误。而 rc93 版本改为先设置用户，再 <code>chdir</code>，所以会遇到 permission denied 问题。runc 改动链接： <a href=https://github.com/opencontainers/runc/commit/d869d05aba0fc2519060b3b20b679ac5a5068e78>libctr/init_linux: reorder chdir · opencontainers/runc@d869d05 · GitHub</a>
这个事情引发的另一个思考是，我理解 [[Crossplane]] 提供的产品已经是较为上层了，但是他们的客户遇到问题需要 OnCall 到 OCI 这一层，莫名的为我司 [[kubernetes]] 产品之后的运维成本担忧。</p><hr><p><a href=https://blog.danslimmon.com/2023/03/06/5-production-surprises-worth-investigating/>5 production surprises worth investigating – Dan Slimmon</a></p><p>日常遇到的偶发现象（问题），最后一定会在生产环境中遇到。
关注清单：Long running requests,Saturation,Crashes,Utilization spikes,Correlation between latency and throughput</p><hr><p><a href=https://www.backblaze.com/blog/ssd-edition-2022-drive-stats-review/>The SSD Edition: 2022 Drive Stats Review</a></p><blockquote><p>The Dell SSD (model: DELLBOSS VD) has zero failures for 2022 and has over 100,000 drive days for the year. The resulting AFR is excellent, but this is an M.2 SSD mounted on a PCIe card (half-length and half-height form factor) meant for server deployments, and as such it may not be generally available. By the way, BOSS stands for Boot Optimized Storage Solution.
我司一体机的型号之一是 [[Dell]] ，因为一些历史原因，所以[[DELLBOSS VD]] 只是用来做引导分区，平时完全没有读写，按照这个故障率，我们真的太奢侈了。</p></blockquote><hr><p><a href=https://mp.weixin.qq.com/s/ANFnbDXwuhKI99fgYRZ9ug>垃圾腾讯云CDN：从入门到放弃</a></p><p>[[CDN]]预热需要回源请求，但是回源请求产生的流量需要收费，离谱。</p><blockquote><p>听到这样的解释，我都要笑喷了。<strong>我为什么买CDN？因为要省对象存储的流量钱。CDN 去刷新预热，这是云厂商自己系统内部的流量，为啥要挂在用户身上付费？但是你刷新预热一下，一下花掉了我直接走对象存储下载一年都用不了的钱。</strong></p></blockquote><h3 id=生活>生活
<a class=heading-link href=#%e7%94%9f%e6%b4%bb><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href="https://www.solidot.org/story?sid=74149">奇客Solidot | Google 失去了方向</a></p><blockquote><p>这是“广告”这个印钞机产生的自然结果，这台机器收入每年都在增长，从而掩盖了所有其它罪恶：没有使命，没有紧迫感，例外主义的妄想，以及管理不善。
Google 狂热的关注风险，减轻风险胜于其他一切。每一行代码、每一次发布、隐性决定、协议的改变和分歧都是 Google 员工必须谨慎对待的风险。员工被困在一长串的审批、法律评估、绩效评估和会议中，创造力或真正的创新几乎没有空间。</p></blockquote><hr><p><a href=https://reorx.com/makers-daily/004-prompts-and-parameters-transparancy/>Reorx’s Forge</a></p><p>提到了一些 [[Prompt]] 小技巧。昨天内部同事在 [[slack]] 接入了 [[ChatGPT]] ，在没有合适的 [[Prompt]] 情况下，几乎是不可用的。</p><hr><p><a href=https://disksing.com/story/divorce/>离婚推文合订本</a></p><p>提到了几次孩子让人觉得艰难，感觉更难是成年人，如果换位思考，我不知道拿什么来安慰自己。</p><hr><p><a href=https://about.sourcegraph.com/blog/planes-are-not-faster-cars>Planes aren&rsquo;t faster cars</a></p><blockquote><p><strong>If the time cost is so large that you’re never going to pay it, time-saving improvements are actually about making the effectively-impossible become possible.</strong></p></blockquote><blockquote><p><strong>What’s exciting about time-saving improvements isn’t the time savings, it’s how they make the impossible become possible.</strong></p></blockquote><hr><p><a href=https://medium.com/@ilskdw/q-a-f6b68d074ef6>Q & A. Q：是不是因为你写的 eru 所以你对换 k8s… | by CMGS | Mar, 2023 | Medium</a></p><blockquote><p>搞技术，菜就是原罪，对于内源性产品的 Infra 来说，来自于外部驱动的产品负责人来做行不行，当然行，前提是你有产出，你落地了什么玩意降了什么本增了什么效又自动化了啥，否则，别什么斯坦福 MIT六边形，你就是菜</p></blockquote><hr><h2 id=书影>书影
<a class=heading-link href=#%e4%b9%a6%e5%bd%b1><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>《模范出租车 第二季》，剧情延续第一季故事，引入了第三方势力，格局大了。</p><p>《网络谜踪2》，模式与第一部相同，前期节奏有点慢，后续节奏快起来还是很吸引人的。</p><p>《黑暗荣耀 第二季》，美强惨。</p><p>《保你平安》，合格的商业片，有点好奇冯锵锵是怎么死的。</p><p>《不眠之夜》，趁着朋友来终于去看了，震撼，虽然没看懂，但是还是震撼。</p></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>