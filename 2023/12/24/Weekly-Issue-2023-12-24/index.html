<!doctype html><html lang=zh-cn><head><title>Weekly Issue 2023-12-24 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="文章 链接到标题 技术 链接到标题 Debounce and Throttle | Reorx’s Forge
Debounce: 将间隔不超过设定时间的多次连续调用变成一次。 Throttle: 确保一个函数被连续多次调用时，在设定时间内最多只实际执行一次。
相似之处：Debounce 和 Throttle 都限制了函数执行的最大频率不超过每设定时间一次 不同之处：在快速（间隔小于设定时间）连续调用时，Throttle 确保了函数会规律执行，但 Debounce 只有当连续调用放缓（间隔大于设定时间）时才会执行。
关于 k8s 的 zero downtime deployment 一些建议
滚动更新配置防止 502 的一些方式：
配置 liveness/readiness 配置 terminationGracePeriodSeconds 程序需要支持 graceful shutdown 主进程 pid 为 1，可以收到信号 通过配置 preStop 来保证 service endpoint 变更和 pod 删除的变更顺序 不过如果在滚动更新过程中遇到问题，需要终止，好像还是采用两套 deployment 在接入层切换多一些。
2024 State of Internal Developer Portals | Port
Developers spend significant time on non-core work and face prolonged software deployment timelines"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Weekly Issue 2023-12-24"><meta name=twitter:description content="文章 链接到标题 技术 链接到标题 Debounce and Throttle | Reorx’s Forge
Debounce: 将间隔不超过设定时间的多次连续调用变成一次。 Throttle: 确保一个函数被连续多次调用时，在设定时间内最多只实际执行一次。
相似之处：Debounce 和 Throttle 都限制了函数执行的最大频率不超过每设定时间一次 不同之处：在快速（间隔小于设定时间）连续调用时，Throttle 确保了函数会规律执行，但 Debounce 只有当连续调用放缓（间隔大于设定时间）时才会执行。
关于 k8s 的 zero downtime deployment 一些建议
滚动更新配置防止 502 的一些方式：
配置 liveness/readiness 配置 terminationGracePeriodSeconds 程序需要支持 graceful shutdown 主进程 pid 为 1，可以收到信号 通过配置 preStop 来保证 service endpoint 变更和 pod 删除的变更顺序 不过如果在滚动更新过程中遇到问题，需要终止，好像还是采用两套 deployment 在接入层切换多一些。
2024 State of Internal Developer Portals | Port
Developers spend significant time on non-core work and face prolonged software deployment timelines"><meta property="og:title" content="Weekly Issue 2023-12-24"><meta property="og:description" content="文章 链接到标题 技术 链接到标题 Debounce and Throttle | Reorx’s Forge
Debounce: 将间隔不超过设定时间的多次连续调用变成一次。 Throttle: 确保一个函数被连续多次调用时，在设定时间内最多只实际执行一次。
相似之处：Debounce 和 Throttle 都限制了函数执行的最大频率不超过每设定时间一次 不同之处：在快速（间隔小于设定时间）连续调用时，Throttle 确保了函数会规律执行，但 Debounce 只有当连续调用放缓（间隔大于设定时间）时才会执行。
关于 k8s 的 zero downtime deployment 一些建议
滚动更新配置防止 502 的一些方式：
配置 liveness/readiness 配置 terminationGracePeriodSeconds 程序需要支持 graceful shutdown 主进程 pid 为 1，可以收到信号 通过配置 preStop 来保证 service endpoint 变更和 pod 删除的变更顺序 不过如果在滚动更新过程中遇到问题，需要终止，好像还是采用两套 deployment 在接入层切换多一些。
2024 State of Internal Developer Portals | Port
Developers spend significant time on non-core work and face prolonged software deployment timelines"><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2023/12/24/Weekly-Issue-2023-12-24/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-24T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-24T00:00:00+00:00"><link rel=canonical href=https://zdyxry.github.io/2023/12/24/Weekly-Issue-2023-12-24/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.76ce9bad7ac9bd368d486c6e91e7e0906fff71d9d35ccbf93959a375e2bf50e5.css integrity="sha256-ds6brXrJvTaNSGxukefgkG//cdnTXMv5OVmjdeK/UOU=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2023/12/24/Weekly-Issue-2023-12-24/>Weekly Issue 2023-12-24</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-12-24T00:00:00Z>December 24, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：1 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/Weekly/>Weekly</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#文章>文章</a><ul><li><a href=#技术>技术</a></li><li><a href=#生活>生活</a></li></ul></li><li><a href=#书影>书影</a></li></ul></nav><div class=post-content><h2 id=文章>文章
<a class=heading-link href=#%e6%96%87%e7%ab%a0><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=技术>技术
<a class=heading-link href=#%e6%8a%80%e6%9c%af><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://reorx.com/blog/debounce-and-throttle/>Debounce and Throttle | Reorx’s Forge</a></p><blockquote><p><strong>Debounce</strong>: 将间隔不超过设定时间的多次连续调用变成一次。
<strong>Throttle</strong>: 确保一个函数被连续多次调用时，在设定时间内最多只实际执行一次。</p><p>相似之处：Debounce 和 Throttle 都限制了函数执行的最大频率不超过每设定时间一次
不同之处：在快速（间隔小于设定时间）连续调用时，Throttle 确保了函数会规律执行，但 Debounce 只有当连续调用放缓（间隔大于设定时间）时才会执行。</p></blockquote><hr><p><a href=https://wklken.me/posts/2023/12/17/some-tips-for-zero-downtime-deployment.html>关于 k8s 的 zero downtime deployment 一些建议</a></p><p>滚动更新配置防止 502 的一些方式：</p><ul><li>配置 liveness/readiness</li><li>配置 terminationGracePeriodSeconds</li><li>程序需要支持 graceful shutdown</li><li>主进程 pid 为 1，可以收到信号</li><li>通过配置 <code>preStop</code> 来保证 service endpoint 变更和 pod 删除的变更顺序</li></ul><p>不过如果在滚动更新过程中遇到问题，需要终止，好像还是采用两套 deployment 在接入层切换多一些。</p><hr><p><a href=https://www.getport.io/state-of-internal-developer-portals>2024 State of Internal Developer Portals | Port</a></p><blockquote><p>Developers spend significant time on non-core work and face prolonged software deployment timelines</p></blockquote><hr><p><a href=https://fly.io/blog/fks/>Introducing Fly Kubernetes · The Fly Blog</a></p><p>[[Fly.io]] 使用 [[k3s]] 配合 [[Virtual kubelet]] 构建自己的 [[kubernetes]] 平台，最小组件：CoreDNS，SQLite，Virtual kubelet，将 virtual kubelet 相关接口实现为自己的 Fly machine API 。</p><hr><p><a href=https://greyli.com/flask-fastapi-2023/>Flask 已死，FastAPI 永生 | 李辉</a></p><p>非常佩服[[Grey Li]]，面对这种明显是标题党的文档，还会有理有据的去回应，去证明。框架的选型是多方面的，对于文章中提到的 [[FastAPI]] 的问题，我会本能的避开。</p><p>文章中剃刀的几个Flask 类似 FastAPI 的框架，之后可以选择用用：</p><ul><li><a href=https://github.com/miguelgrinberg/APIFairy>APIFairy</a></li><li><a href=https://github.com/apiflask/apiflask>APIFlask</a></li><li><a href=https://github.com/zalando/connexion>Connexion</a></li><li><a href=https://github.com/pyeve/eve>Eve</a></li><li><a href=https://github.com/python-restx/flask-restx>Flask-RESTX</a></li><li><a href=https://github.com/marshmallow-code/flask-smorest>Flask-Smorest</a></li><li><a href=https://github.com/plangrid/flask-rebar>Flask-Rebar</a></li><li><a href=https://github.com/0b01001001/spectree>SpecTree</a></li></ul><hr><p><a href=https://medium.com/developer-rants/agile-has-failed-officially-8136b0522c49>Agile has failed. Officially.. Either I’m a gifted oracle, and all of… | by Tamás Polgár | Developer rants | Dec, 2023 | Medium</a></p><p>有趣，Agile 死了？我没有什么概念，我司内部好像一直 Aglie 不起来，都是瀑布式的开发流程，貌似有个小组采用了，不知道效果怎么样（听说每天的同步会议倒是没少开）。</p><hr><h3 id=生活>生活
<a class=heading-link href=#%e7%94%9f%e6%b4%bb><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://mp.weixin.qq.com/s/XaR_bpTYqF_LexzQltVgxg>北漂十年，搬家三十次</a></p><blockquote><p>作为一个被书籍和电影哺育大的「文青」，除了北京，伯姐不知道还能在哪里找到这类影视传媒相关的工作。
北京这座城市欲拒还迎地向她开着一扇半掩的门，它允许你的窥探，接受你的燃烧，但始终拒绝你的进入与停留。</p></blockquote><hr><p><a href=https://en.wikipedia.org/wiki/Weaponized_incompetence>Weaponized incompetence - Wikipedia</a></p><p>武器化无能，战略无能，与个人利用假装或故意的无能来逃避不必要的责任有关。</p><p>日常生活中，有表现出这个现象么？周围的人有表现出这个现象么？绝对是有的，生活中还不少。</p><hr><h2 id=书影>书影
<a class=heading-link href=#%e4%b9%a6%e5%bd%b1><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>《父权制与资本主义》，从同事那里借了好久，一直没看，打算趁着年底，看完还回去。</p></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2024
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>