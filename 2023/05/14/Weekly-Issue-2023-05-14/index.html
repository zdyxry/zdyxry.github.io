<!doctype html><html lang=zh-cn><head><title>Weekly Issue 2023-05-14 · Yiran's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Yiran Zhou"><meta name=description content="LazyVim 是个好东西。"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Weekly Issue 2023-05-14"><meta name=twitter:description content="LazyVim 是个好东西。"><meta property="og:title" content="Weekly Issue 2023-05-14"><meta property="og:description" content="LazyVim 是个好东西。"><meta property="og:type" content="article"><meta property="og:url" content="https://zdyxry.github.io/2023/05/14/Weekly-Issue-2023-05-14/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-14T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-14T00:00:00+00:00"><link rel=canonical href=https://zdyxry.github.io/2023/05/14/Weekly-Issue-2023-05-14/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.76ce9bad7ac9bd368d486c6e91e7e0906fff71d9d35ccbf93959a375e2bf50e5.css integrity="sha256-ds6brXrJvTaNSGxukefgkG//cdnTXMv5OVmjdeK/UOU=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.593028e7f7ac55c003b79c230d1cd411bb4ca53b31556c3abb7f027170e646e9.css integrity="sha256-WTAo5/esVcADt5wjDRzUEbtMpTsxVWw6u38CcXDmRuk=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/yiran.png sizes=32x32><link rel=icon type=image/png href=/images/yiran.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Yiran's Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/friends/>Friends</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://zdyxry.github.io/2023/05/14/Weekly-Issue-2023-05-14/>Weekly Issue 2023-05-14</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-05-14T00:00:00Z>May 14, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
阅读时间：2 分钟</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/Weekly/>Weekly</a></span></div></div></header><nav id=TableOfContents><ul><li><a href=#文章>文章</a><ul><li><a href=#技术>技术</a></li><li><a href=#生活>生活</a></li></ul></li><li><a href=#书影>书影</a></li></ul></nav><div class=post-content><h2 id=文章>文章
<a class=heading-link href=#%e6%96%87%e7%ab%a0><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><h3 id=技术>技术
<a class=heading-link href=#%e6%8a%80%e6%9c%af><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://liqiang.io/post/edit-videos-with-ffmpeg-command-64584f81>使用 FFMPEG 编辑视频</a></p><p>使用 [[ffmpeg]] 合并、裁剪视频。</p><hr><p><a href=https://mp.weixin.qq.com/s/Zsml8bZV_nZPZYgVhTym1w>Cilium 基于 eBPF 实现 socket 加速</a></p><p>使用<code>BPF_MAP_TYPE_SOCKHASH</code> 存储 socket 信息, <code>BPF_PROG_TYPE_SOCK_OPS</code> 拦截系统中 socket 建立连接操作 , <code>BPF_PROG_TYPE_SK_MSG</code> 拦截系统中 sendmsg 系统调用，提取 key，将数据直接重定向到对端 socket。</p><blockquote><p>使用 eBPF socket 加速之后，吞吐量和发送消息大小呈线性关系。这是因为当应用程序发送较大的消息时，几乎没有额外的开销，但是当发送消息比较小时，使用 TCP/IP 协议栈，反而吞吐量会大于 eBPF socket 加速之后的吞吐量，这是由于 TCP/IP 栈默认开启了 Nagle 算法。Nagle 的算法是用来解决小数据包在慢速网络中泛滥导致拥塞的问题，在该算法中只要有一个 TCP 段在小于 TCP MSS 大小的情况下未被确认，就会进行批处理传输数据操作。这种批处理导致一次传输更多的数据并分摊开销，所以能超过 eBPF socket 加速之后吞吐量。但是随着发送消息越来越大，超过 MSS，TCP/IP 栈就会失去其批处理优势，在这些大数据包发送大小下，<strong>eBPF socket 加速凭借其低开销远远超过启用 Nagle 算法的 TCP/IP 栈的吞吐量。</strong></p></blockquote><hr><p><a href=https://changchen.me/blog/20230502/chatgpt-prompt-eng-l2/>你真的会使用 ChatGPT 吗？ | 第一章：Guidelines for Prompting</a></p><p>感觉有点像 <a href=https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md>How-To-Ask-Questions-The-Smart-Way/README-zh_CN.md at main · ryanhanwu/How-To-Ask-Questions-The-Smart-Way · GitHub</a>，要把问题说清楚，也要说自己已经想到的一些方向（可行方向）。</p><hr><p><a href=https://manateelazycat.github.io/think/2023/05/10/developer-focus.html>谈研发人员怎么专注</a></p><p>各种意义上的要减少外界干扰，养成专注的习惯，一次只做一件事。</p><blockquote><p>这就是佛家说的不要有杂念， 我这么多年看到太多天赋非常好的工程师心念不专注， 被比较之心、 膨胀之心、 贪念之心、 执着之心分走太多能量， 表面看起来很努力很勤奋， 实际内心的能量并没有专注在当前的过程中， 消耗很多能量却没有专注做事情是一个人最大的浪费呀。 所以， 专心吃饭、 专心走路、 专心做家务这些看似最和工程师无关的事情， 反而最容易锻炼我们专注当下的心念。</p></blockquote><hr><p><a href=https://thiscute.world/posts/nixos-and-flake-basics/>NixOS 与 Nix Flakes 新手入门 - This Cute World</a></p><p>[[NixOS]] 真正的 101，但是上手成本还是太高了。</p><hr><p><a href=https://jvns.ca/blog/2023/05/08/new-talk-learning-dns-in-10-years/>New talk: Learning DNS in 10 years</a></p><p>通过[[DNS]]作为例子，来介绍如何学习新的事物：使用、观察、保留疑问、调查、阅读规范，最后尝试自己实现一个简单的 demo 来更好的理解。</p><hr><p><a href=https://changchen.me/blog/20230503/python-type-hinting-stubs/>SQLAlchemy 与 Pyright 相爱相杀的故事 | Henry Z&rsquo;s blog~</a></p><blockquote><p>Try to resolve using stubs or inlined types found within installed packages.<br>For a given package, try to resolve first using a stub package. Stub packages, as defined in PEP 561, are named the same as the original package but with “-stubs” appended.</p></blockquote><blockquote><p>简而言之类似 java 中的泛型（generics），当 Column 的类型定义为 <code>Type[TypeEngine[_T]]</code> 时，强制约束返回的类型为 <code>T</code>。</p></blockquote><hr><p><a href=https://dev.to/iggredible/using-buffers-windows-and-tabs-efficiently-in-vim-56jc>Using buffers, windows, and tabs efficiently in Vim - DEV Community</a></p><p>[[vim]] 的 <code>window</code> <code>buffer</code> <code>tab</code> 的使用方式，已经他们之间的差异。最近重新体验了一下 Vim，使用 Neovim，发现现在的插件生态已经很好了。</p><hr><p><a href=https://dev.to/leoantony72/twitter-back-end-design-274b>How I Made Twitter Back-end - DEV Community</a></p><p>如何使用 [[Postgres]]，[[redis]]，[[Rabbitmq]] 构建一个[[Twitter]] 的 demo，针对[[timeline]] 进行特殊处理。</p><hr><p><a href=https://www.ansible.com/blog/kubernetes-meets-event-driven-ansible>Kubernetes Meets Event-Driven Ansible</a></p><p>[[事件驱动]][[Ansible]]，可以指定 Source，Rule和 Action 来进行一些自动化的处理，但是现在大部分涉及到 [[kubernetes]] 的场景应该都是独立的去实现 Operator 了吧，没想到什么场景会这么用。</p><p>另外这里的进程管理看上去也是一个问题。</p><h3 id=生活>生活
<a class=heading-link href=#%e7%94%9f%e6%b4%bb><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h3><p><a href=https://twitter.com/yihong0618/status/1656089584428802048>这次在北京玩回来，在经历了景区排队，地铁先下后上，和有些景区的池塘不让喂小鱼但有人喂后。儿子问了我们一个看起来好回答但面对 5 岁多的孩子却不知道怎么回答才好的问题：
“妈妈，为什么别人都不遵守规则，但是但是，我们要遵守”</a></p><p><a href=https://twitter.com/HowardSu>HowardSu</a> 的回复：这个问题有个标准范式供您参考，因为遵守社会[[规则]]意味着承担了相对少的风险，规则并不是绝对的，而是为了避免麻烦的，所以选择遵守规则就把遇到麻烦的概率降低了，不遵守规则提高了遇到麻烦的概率，这时候可以顺便提出数学期望这个概念，概率乘以收益等于数学期望。计算之后就会发现遵守规则收益高</p><hr><p><a href=https://lutaonan.com/blog/how-do-i-take-note/>我的笔记管理法 | Randy&rsquo;s Blog</a></p><p>不只是笔记管理，更多的是信息管理方式。我个人日常获取信息的渠道主要是 [[RSS]] 和 [[Twitter]]，如果看到感兴趣的，会直接保存到 [[Notion]]中，保存阶段不进行标记，定期的阅读整理 [[Notion]]中保存的文章，当阅读完成或了解完成后，进行 Tag 标记，并同步把文章链接和想法记录到 [[Logseq]] 中。</p><p>感觉如何做好笔记的 Tag 是一门学问。</p><h2 id=书影>书影
<a class=heading-link href=#%e4%b9%a6%e5%bd%b1><i class="fa fa-link" aria-hidden=true title=链接到标题></i>
<span class=sr-only>链接到标题</span></a></h2><p>《深入理解 Linux 网络》，本周没有继续读。</p><p>《大医·日出篇》，看了开头。</p><p>《扑克脸 第一季》，看了第一集，感觉没有那么好看，反而烟嗓让我听着不是很舒服，应该不会继续看下去。</p></div><footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zdyxry.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),document.addEventListener("themeChanged",function(){document.readyState=="complete"&&DISQUS.reset({reload:!0,config:disqus_config})})</script></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2023
Yiran Zhou
·
技术支持 <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G0433XDZ3V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G0433XDZ3V",{anonymize_ip:!1})}</script></body></html>